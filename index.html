<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>es6ify by thlorenz</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <link rel="stylesheet" href="stylesheets/jsdoc.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>

    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/styles/tomorrow-night-bright.min.css">
    <script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/highlight.min.js"></script>

    <script src="javascripts/respond.js"></script>
    <script src="javascripts/bundle.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->

    <script>
      $(document).ready(function(){
        $('pre code').each(function(i, block) {
          hljs.highlightBlock(block);
        });
      });
    </script>


    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>
      <div id="header">
        <nav>
          <li class="fork"><a href="https://github.com/thlorenz/es6ify">Fork On GitHub</a></li>
        </nav>
      </div><!-- end header -->

    <div class="wrapper">

      <section>
        <div id="title">
          <h1>es6ify</h1>
          <p>browserify v2 transform to compile JavaScript.next (ES6) to JavaScript.current (ES5) on the fly.</p>
          <hr>
          <span class="credits left">Project maintained by <a href="https://github.com/thlorenz">thlorenz</a></span>
          <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="http://twitter.com/#!/michigangraham">mattgraham</a></span>
        </div>

        <h1>es6ify <a href="http://travis-ci.org/thlorenz/es6ify"><img src="https://secure.travis-ci.org/thlorenz/es6ify.png" alt="build status"></a>
        </h1>

        <p><a href="https://github.com/substack/node-browserify">browserify</a> v2 transform to compile JavaScript.next (ES6) to
        JavaScript.current (ES5) on the fly</p>

        <h1>Try it!</h1>

        <p style="font-weight: bold; font-size: 18px; color: yellowgreen;">Open your dev tools and look inside the Sources tab and/or the Console to see the results.</p>

        <p>Make sure to use a browser that supports source maps and to enable them in the settings.</p>

        <p>Most examples are derived from the <a href="https://code.google.com/p/traceur-compiler/wiki/LanguageFeatures">traceur language features</a>.</p>

        <p>You may have to refresh the page a few times after opening dev tools.</p>

<!-- START README -->
<h1 id="es6ify-build-status-https-secure-travis-ci-org-thlorenz-es6ify-png-branch-master-http-travis-ci-org-thlorenz-es6ify-">es6ify <a href="http://travis-ci.org/thlorenz/es6ify"><img src="https://secure.travis-ci.org/thlorenz/es6ify.png?branch=master" alt="build status"></a></h1>
<p><a href="https://nodei.co/npm/es6ify/"><img src="https://nodei.co/npm/es6ify.png?downloads=true&amp;stars=true" alt="NPM"></a></p>
<p><a href="https://github.com/substack/node-browserify">browserify</a> <code>&gt;=v2</code> transform to compile JavaScript.next (ES6) to
JavaScript.current (ES5) on the fly.</p>
<pre><code class="lang-js">browserify()
  .add(es6ify.runtime)
  .transform(es6ify)
  .require(require.resolve(&#39;./src/main.js&#39;), { entry: true })
  .bundle({ debug: true })
  .pipe(fs.createWriteStream(bundlePath));
</code></pre>
<p>Find the full version of this example <a href="https://github.com/thlorenz/es6ify/blob/master/example/build.js">here</a>.</p>
<h2 id="installation">Installation</h2>
<pre><code>npm install es6ify
</code></pre><h2 id="what-you-get">What You Get</h2>
<p><img src="https://github.com/thlorenz/es6ify/raw/master/assets/screenshot.png" alt="screenshot"></p>
<p><a href="http://thlorenz.github.com/es6ify/">Try it live</a></p>
<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->
<strong>Table of Contents</strong>  <em>generated with <a href="http://doctoc.herokuapp.com/">DocToc</a></em>

- <a href="#enabling-sourcemaps-and-related-posts">Enabling sourcemaps and related posts</a>
- <a href="#api">API</a>
- <a href="#examples">Examples</a>
    - <a href="#es6ifyconfigurefilepattern--regex">es6ify.configure(filePattern : Regex)</a>
    - <a href="#es6ifytraceuroverrides">es6ify.traceurOverrides</a>
- <a href="#caching">Caching</a>
- <a href="#source-maps">Source Maps</a>
- <a href="#supported-es6-features">Supported ES6 features</a>
    - <a href="#arrowfunctions">arrowFunctions</a>
    - <a href="#classes">classes</a>
    - <a href="#defaultparameters">defaultParameters</a>
    - <a href="#destructuring">destructuring</a>
    - <a href="#forof">forOf</a>
    - <a href="#propertymethods">propertyMethods</a>
    - <a href="#propertynameshorthand">propertyNameShorthand</a>
    - <a href="#templateliterals">templateLiterals</a>
    - <a href="#restparameters">restParameters</a>
    - <a href="#spread">spread</a>
    - <a href="#generators">generators</a>
    - <a href="#modules">modules</a>

<!-- END doctoc generated TOC please keep comment here to allow auto update -->

<h2 id="enabling-sourcemaps-and-related-posts">Enabling sourcemaps and related posts</h2>
<ul>
<li>In Chrome or Firefox: enabled by default</li>
<li>In IE: works in IE11 onward by default</li>
<li><a href="http://thlorenz.com/blog/browserify-sourcemaps">browserify-sourcemaps</a></li>
<li><a href="http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/">html5 rocks sourcemaps post</a></li>
</ul>
<h2 id="api">API</h2>
<!-- START docme generated API please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN docme TO UPDATE -->

<div>
<div class="jsdoc-githubify">
<section>
<article>
<div class="container-overview">
<dl class="details">
</dl>
</div>
<dl>
<dt>
<h4 class="name" id="e6ify::runtime"><span class="type-signature"></span>e6ify::runtime<span class="type-signature"></span></h4>
</dt>
<dd>
<div class="description">
<p>The traceur runtime exposed here so it can be included in the bundle via:</p>
<p><code>browserify.add(es6ify.runtime)</code></p>
<p>The runtime is quite large and not needed for all ES6 features and therefore not added to the bundle by default.
See <a href="https://github.com/google/traceur-compiler/issues/1007#issuecomment-42837067">this comment</a> for details.</p>
</div>
<dl class="details">
<dt class="tag-source">Source:</dt>
<dd class="tag-source"><ul class="dummy">
<li>
<a href="https://github.com/thlorenz/es6ify/blob/master/index.js">index.js</a>
<span>, </span>
<a href="https://github.com/thlorenz/es6ify/blob/master/index.js#L122">lineno 122</a>
</li>
</ul></dd>
</dl>
</dd>
<dt>
<h4 class="name" id="es6ify::traceurOverrides"><span class="type-signature"></span>es6ify::traceurOverrides<span class="type-signature"></span></h4>
</dt>
<dd>
<div class="description">
<p>Allows to override traceur compiler defaults.</p>
<p>In order to support async functions (<code>async</code>/<code>await</code>) do:</p>
<p><code>es6ify.traceurOverrides = { asyncFunctions: true }</code></p>
</div>
<dl class="details">
<dt class="tag-source">Source:</dt>
<dd class="tag-source"><ul class="dummy">
<li>
<a href="https://github.com/thlorenz/es6ify/blob/master/index.js">index.js</a>
<span>, </span>
<a href="https://github.com/thlorenz/es6ify/blob/master/index.js#L139">lineno 139</a>
</li>
</ul></dd>
</dl>
</dd>
</dl>
<dl>
<dt>
<h4 class="name" id="es6ify"><span class="type-signature"></span>es6ify<span class="signature">()</span><span class="type-signature"> &rarr; {function}</span></h4>
</dt>
<dd>
<div class="description">
<p>The es6ify transform to be used with browserify.</p>
<h4>Example</h4>
<p><code>browserify().transform(es6ify)</code></p>
</div>
<dl class="details">
<dt class="tag-source">Source:</dt>
<dd class="tag-source"><ul class="dummy">
<li>
<a href="https://github.com/thlorenz/es6ify/blob/master/index.js">index.js</a>
<span>, </span>
<a href="https://github.com/thlorenz/es6ify/blob/master/index.js#L99">lineno 99</a>
</li>
</ul></dd>
</dl>
<h5>Returns:</h5>
<div class="param-desc">
<p>function that returns a <code>TransformStream</code> when called with a <code>file</code></p>
</div>
<dl>
<dt>
Type
</dt>
<dd>
<span class="param-type">function</span>
</dd>
</dl>
</dd>
<dt>
<h4 class="name" id="es6ify::compileFile"><span class="type-signature"></span>es6ify::compileFile<span class="signature">(file, src)</span><span class="type-signature"> &rarr; {string}</span></h4>
</dt>
<dd>
<div class="description">
<p>Compile function, exposed to be used from other libraries, not needed when using es6ify as a transform.</p>
</div>
<h5>Parameters:</h5>
<table class="params">
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th class="last">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="name"><code>file</code></td>
<td class="type">
<span class="param-type">string</span>
</td>
<td class="description last"><p>name of the file that is being compiled to ES5</p></td>
</tr>
<tr>
<td class="name"><code>src</code></td>
<td class="type">
<span class="param-type">string</span>
</td>
<td class="description last"><p>source of the file being compiled to ES5</p></td>
</tr>
</tbody>
</table>
<dl class="details">
<dt class="tag-source">Source:</dt>
<dd class="tag-source"><ul class="dummy">
<li>
<a href="https://github.com/thlorenz/es6ify/blob/master/index.js">index.js</a>
<span>, </span>
<a href="https://github.com/thlorenz/es6ify/blob/master/index.js#L20">lineno 20</a>
</li>
</ul></dd>
</dl>
<h5>Returns:</h5>
<div class="param-desc">
<p>compiled source</p>
</div>
<dl>
<dt>
Type
</dt>
<dd>
<span class="param-type">string</span>
</dd>
</dl>
</dd>
<dt>
<h4 class="name" id="es6ify::configure"><span class="type-signature"></span>es6ify::configure<span class="signature">(<span class="optional">filePattern</span>)</span><span class="type-signature"> &rarr; {function}</span></h4>
</dt>
<dd>
<div class="description">
<p>Configurable es6ify transform function that allows specifying the <code>filePattern</code> of files to be compiled.</p>
</div>
<h5>Parameters:</h5>
<table class="params">
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Argument</th>
<th class="last">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="name"><code>filePattern</code></td>
<td class="type">
<span class="param-type">string</span>
</td>
<td class="attributes">
&lt;optional&gt;<br>
</td>
<td class="description last"><p>(default: `/.js$/) pattern of files that will be es6ified</p></td>
</tr>
</tbody>
</table>
<dl class="details">
<dt class="tag-source">Source:</dt>
<dd class="tag-source"><ul class="dummy">
<li>
<a href="https://github.com/thlorenz/es6ify/blob/master/index.js">index.js</a>
<span>, </span>
<a href="https://github.com/thlorenz/es6ify/blob/master/index.js#L112">lineno 112</a>
</li>
</ul></dd>
</dl>
<h5>Returns:</h5>
<div class="param-desc">
<p>function that returns a <code>TransformStream</code> when called with a <code>file</code></p>
</div>
<dl>
<dt>
Type
</dt>
<dd>
<span class="param-type">function</span>
</dd>
</dl>
</dd>
</dl>
</article>
</section>
</div>

<p><em>generated with <a href="https://github.com/thlorenz/docme">docme</a></em>
</div>
<!-- END docme generated API please keep comment here to allow auto update --></p>
<h2 id="examples">Examples</h2>
<h3 id="es6ify-configure-filepattern-regex-">es6ify.configure(filePattern : Regex)</h3>
<p>The default file pattern includes all JavaScript files, but you may override it in order to only transform files coming
from a certain directory, with a specific file name and/or extension, etc.</p>
<p>By configuring the regex to exclude ES5 files, you can optimize the performance of the transform. However transforming
ES5 JavaScript will work since it is a subset of ES6.</p>
<pre><code class="lang-js">browserify()
  .add(require(&#39;es6ify&#39;).runtime)
   // compile all .js files except the ones coming from node_modules
  .transform(require(&#39;es6ify&#39;).configure(/^(?!.*node_modules)+.+\.js$/))
  .require(require.resolve(&#39;./src/main.js&#39;), { entry: true })
  .bundle({ debug: true })
  .pipe(fs.createWriteStream(bundlePath));
</code></pre>
<h3 id="es6ify-traceuroverrides">es6ify.traceurOverrides</h3>
<p>Some features supported by traceur are still experimental: either nonstandard, proposed but not yet standardized, or
just too slow to use for most code. Therefore Traceur disables them by default. They can be enabled by overriding these
options.</p>
<p>For instance to support the async functions (<code>async</code>/<code>await</code>) feature you&#39;d do the following.</p>
<pre><code class="lang-js">var es6ify = require(&#39;es6ify&#39;);
es6ify.traceurOverrides = { asyncFunctions: true };
browserify()
  .add(es6ify.runtime)
  .require(require.resolve(&#39;./src/main.js&#39;), { entry: true })
  .bundle({ debug: true })
  .pipe(fs.createWriteStream(bundlePath));
</code></pre>
<h2 id="caching">Caching</h2>
<p>When es6ify is run on a development server to help generate the browserify bundle on the fly, it makes sense to only
recompile ES6 files that changed. Therefore es6ify caches previously compiled files and just pulls them from there if no
changes were made to the file.</p>
<h2 id="source-maps">Source Maps</h2>
<p>es6ify instructs the traceur transpiler to generate source maps. It then inlines all original sources and adds the
resulting source map <code>base64</code> encoded to the bottom of the transformed content. This allows debugging the original ES6
source when using the <code>debug</code> flag with browserify.</p>
<p>If the <code>debug</code> flag is not set, these source maps will be removed by browserify and thus will not be contained inside
your production bundle.</p>
<h2 id="supported-es6-features">Supported ES6 features</h2>
<h3 id="arrowfunctions">arrowFunctions</h3>
<pre><code class="lang-js">var log = msg =&gt; console.log(msg);
</code></pre>
<p><a href="https://github.com/thlorenz/es6ify/blob/master/example/src/features/arrow-functions.js">full example</a></p>
<h3 id="classes">classes</h3>
<pre><code class="lang-js">class Character {
  constructor(x, y, name) {
    this.x = x;
    this.y = y;
  }
  attack(character) {
    console.log(&#39;attacking&#39;, character);
  }
}

class Monster extends Character {
  constructor(x, y, name) {
    super(x, y);
    this.name = name;
    this.health_ = 100;
  }

  attack(character) {
    super.attack(character);
  }

  get isAlive() { return this.health &gt; 0; }
  get health() { return this.health_; }
  set health(value) {
    if (value &lt; 0) throw new Error(&#39;Health must be non-negative.&#39;);
    this.health_ = value;
  }
}
</code></pre>
<p><a href="https://github.com/thlorenz/es6ify/blob/master/example/src/make-monster.js">full example</a></p>
<h3 id="defaultparameters">defaultParameters</h3>
<pre><code class="lang-js">function logDeveloper(name, codes = &#39;JavaScript&#39;, livesIn = &#39;USA&#39;) {
  console.log(&#39;name: %s, codes: %s, lives in: %s&#39;, name, codes, livesIn);
};
</code></pre>
<p><a href="https://github.com/thlorenz/es6ify/blob/master/example/src/features/default-parameters.js">full example</a></p>
<h3 id="destructuring">destructuring</h3>
<pre><code class="lang-js">var [a, [b], c, d] = [&#39;hello&#39;, [&#39;, &#39;, &#39;junk&#39;], [&#39;world&#39;]];
console.log(a + b + c); // hello, world
</code></pre>
<p><a href="https://github.com/thlorenz/es6ify/blob/master/example/src/features/destructuring.js">full example</a></p>
<h3 id="forof">forOf</h3>
<pre><code class="lang-js">for (let element of [1, 2, 3]) {
  console.log(&#39;element:&#39;, element);
}
</code></pre>
<p><a href="https://github.com/thlorenz/es6ify/blob/master/example/src/features/iterators.js">full example</a></p>
<h3 id="propertymethods">propertyMethods</h3>
<pre><code class="lang-js">var object = {
  prop: 42,
  // No need for function
  method() {
    return this.prop;
  }
};
</code></pre>
<h3 id="propertynameshorthand">propertyNameShorthand</h3>
<pre><code class="lang-js">var foo = &#39;foo&#39;;
var bar = &#39;bar&#39;;
var obj = { foo, bar };
</code></pre>
<h3 id="templateliterals">templateLiterals</h3>
<pre><code class="lang-js">var x = 5, y = 10;
console.log(`${x} + ${y} = ${ x + y}`)
// 5 + 10 = 15
</code></pre>
<h3 id="restparameters">restParameters</h3>
<pre><code class="lang-js">function printList(listname, ...items) {
  console.log(&#39;list %s has the following items&#39;, listname);
  items.forEach(function (item) { console.log(item); });
};
</code></pre>
<p><a href="https://github.com/thlorenz/es6ify/blob/master/example/src/features/rest-parameters.js">full example</a></p>
<h3 id="spread">spread</h3>
<pre><code class="lang-js">function add(x, y) {
  console.log(&#39;%d + %d = %d&#39;, x, y, x + y);
}
var numbers = [5, 10]
add(...numbers);
// 5 + 10 = 15
};
</code></pre>
<p><a href="https://github.com/thlorenz/es6ify/blob/master/example/src/features/spread-operator.js">full example</a></p>
<h3 id="generators">generators</h3>
<pre><code class="lang-js">// A binary tree class.
function Tree(left, label, right) {
  this.left = left;
  this.label = label;
  this.right = right;
}

// A recursive generator that iterates the Tree labels in-order.
function* inorder(t) {
  if (t) {
    yield* inorder(t.left);
    yield t.label;
    yield* inorder(t.right);
  }
}

// Make a tree
function make(array) {
  // Leaf node:
  if (array.length == 1) return new Tree(null, array[0], null);
  return new Tree(make(array[0]), array[1], make(array[2]));
}


let tree = make([[[&#39;a&#39;], &#39;b&#39;, [&#39;c&#39;]], &#39;d&#39;, [[&#39;e&#39;], &#39;f&#39;, [&#39;g&#39;]]]);
console.log(&#39;generating tree labels in order:&#39;);

// Iterate over it
for (let node of inorder(tree)) {
  console.log(node); // a, b, c, d, ...
}
</code></pre>
<p><a href="https://github.com/thlorenz/es6ify/blob/master/example/src/features/generators.js">full example</a></p>
<h3 id="block-scoping">block scoping</h3>
<pre><code class="lang-js">{
  let tmp = 5;
}
console.log(typeof tmp === &#39;undefined&#39;); // true
</code></pre>
<p>NOTE: Traceur has a pretty bad bug that makes the above code not work correctly for now: <a href="https://github.com/google/traceur-compiler/issues/1358">google/traceur-compiler#1358</a>.</p>
<h3 id="modules">modules</h3>
<p>Imports and exports are converted to <code>commonjs</code> style <code>require</code> and <code>module.exports</code> statements to seamlessly integrate
with browserify.</p>
<p><a href="https://bitdeli.com/free" title="Bitdeli Badge"><img src="https://d2weczhvl823v0.cloudfront.net/thlorenz/es6ify/trend.png" alt="Bitdeli Badge"></a></p>


<!-- END README -->


      </section>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-39542184-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
